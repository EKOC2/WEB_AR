<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Markerless Ã‡oklu Mobilya WebAR</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

    <style>
        /* A-Frame sahnesinin tÃ¼m ekranÄ± kaplamasÄ± iÃ§in */
        body {
            margin: 0px;
            overflow: hidden;
        }

        /* ButonlarÄ± sayfanÄ±n altÄ±nda ortalamak ve yÃ¶netmek iÃ§in genel kontrol sÄ±nÄ±fÄ± */
        .controls {
            position: fixed;
            bottom: 10px; 
            width: 100%;
            text-align: center;
            z-index: 999;
            pointer-events: auto;
            /* Flexbox ile butonlarÄ± merkezle ve yan yana diz */
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0 10px; 
        }
        
        /* ButonlarÄ±n Kendisine Uygulanan Son, Maksimum Boyut Stilleri */
        button {
            /* BoyutlandÄ±rma: Maksimum tÄ±klama alanÄ± */
            padding: 25px 50px; 
            font-size: 24px;    
            height: 80px;       
            width: 48%;         /* EkranÄ±n neredeyse yarÄ±sÄ±nÄ± kapla */
            
            /* GÃ¶rÃ¼nÃ¼m */
            margin: 5px; 
            cursor: pointer;
            border: none;
            border-radius: 15px; 
            background-color: #dc3545; /* KÄ±rmÄ±zÄ± renk */
            color: white; 
            font-weight: bold; 
            box-shadow: 0 8px 10px rgba(0, 0, 0, 0.3); 
            transition: background-color 0.3s ease;
            touch-action: manipulation; /* Dokunma performansÄ±nÄ± optimize et */
        }

        button:hover {
            background-color: #bd2130;
        }

        /* Dikey mobil kullanÄ±mda (600px altÄ± ekranlar) butonlarÄ± alt alta getir */
        @media (max-width: 600px) {
            .controls {
                flex-direction: column; /* ButonlarÄ± dikey yÄ±ÄŸÄ±nla */
            }
            button {
                width: 95%;     /* EkranÄ±n %95'ini kapla */
                margin: 8px auto; 
            }
        }
    </style>
</head>
<body>

    <a-scene embedded 
             arjs='sourceType: webcam; detectionMode: mono; cameraParametersUrl: camera_para.dat; trackingMethod: best;' 
             vr-mode-ui="enabled: false">

        <a-entity light="type: ambient; intensity: 0.8;"></a-entity>
        <a-entity light="type: directional; intensity: 0.6;" position="1 1 1"></a-entity>

        <a-camera></a-camera> 

    </a-scene>

    <div class="controls">
        <button onclick="addModel('test1.glb', -0.5, 0, -3)">ğŸ›‹ï¸ Koltuk (Test 1) Ekle</button>
        <button onclick="addModel('test2.glb', 0.5, 0, -3)">ğŸ½ï¸ Masa (Test 2) Ekle</button>
    </div>

    <script>
        /**
         * Verilen GLB modelini AR sahnesine dinamik olarak ekler.
         */
        function addModel(modelSrc, posX, posY, posZ) {
            const scene = document.querySelector('a-scene');
            
            // Yeni 3D Ã¶ÄŸe (entity) oluÅŸtur
            const entity = document.createElement('a-entity');
            
            // GLB modelini yÃ¼kle
            entity.setAttribute('gltf-model', `url(${modelSrc})`);
            
            // Pozisyonu ayarla 
            entity.setAttribute('position', `${posX} ${posY} ${posZ}`);
            
            // Boyutu ayarla (Ã–lÃ§eklendirme)
            entity.setAttribute('scale', '0.5 0.5 0.5'); 

            // Modeli direkt sahneye ekle
            scene.appendChild(entity);
            console.log(`${modelSrc} sahneye eklendi.`);
            
            // Ä°PUCU: Modelleri hareket ettirmek isterseniz, bu modele bir "draggable" bileÅŸeni ekleyebilirsiniz.
        }
    </script>

</body>
</html>
