<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Ã‡oklu Mobilya WebAR Viewer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <style>
        /* A-Frame sahnesinin tÃ¼m ekranÄ± kaplamasÄ± iÃ§in */
        body {
            margin: 0px;
            overflow: hidden;
        }

        /* ButonlarÄ± sayfanÄ±n altÄ±nda ortalamak iÃ§in genel kontrol sÄ±nÄ±fÄ± */
        .controls {
            position: fixed;
            bottom: 15px; 
            width: 100%;
            text-align: center;
            z-index: 999;
            pointer-events: auto;
        }
        
        /* ButonlarÄ±n Kendisine Uygulanan Stiller (Mobil Dostu) */
        button {
            /* BoyutlandÄ±rma */
            padding: 20px 40px; 
            font-size: 20px;    
            min-width: 45%; 
            
            /* GÃ¶rÃ¼nÃ¼m */
            margin: 5px; 
            cursor: pointer;
            border: none;
            border-radius: 12px; 
            background-color: #28a745; /* Dikkat Ã§ekici yeÅŸil */
            color: white; 
            font-weight: bold; 
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.2); 
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #1e7e34;
        }

        /* Dikey mobil kullanÄ±mda butonlarÄ± alt alta getir */
        @media (max-width: 600px) {
            button {
                display: block; 
                width: 90%;     
                margin: 10px auto; 
            }
        }
    </style>
</head>
<body>

    <a-scene embedded arjs>

        <a-entity light="type: ambient; intensity: 0.8;"></a-entity>
        <a-entity light="type: directional; intensity: 0.6;" position="1 1 1"></a-entity>

        <a-marker-camera preset='hiro'></a-marker-camera>

    </a-scene>

    <div class="controls">
        <button onclick="addModel('test1.glb', -0.5, 0, 0)">ğŸ›‹ï¸ Koltuk (Test 1) Ekle</button>
        <button onclick="addModel('test2.glb', 0.5, 0, 0)">ğŸ½ï¸ Masa (Test 2) Ekle</button>
    </div>

    <script>
        /**
         * Verilen GLB modelini AR sahnesine dinamik olarak ekler.
         * @param {string} modelSrc - GLB dosyasÄ±nÄ±n adÄ± ('test1.glb' gibi)
         * @param {number} posX - X pozisyonu (marker merkezine gÃ¶re saÄŸ/sol)
         * @param {number} posY - Y pozisyonu (Genellikle 0, zemin seviyesi)
         * @param {number} posZ - Z pozisyonu (marker merkezine gÃ¶re ileri/geri)
         */
        function addModel(modelSrc, posX, posY, posZ) {
            // Yeni 3D Ã¶ÄŸe (entity) oluÅŸtur
            const entity = document.createElement('a-entity');
            
            // GLB modelini yÃ¼kle
            entity.setAttribute('gltf-model', `url(${modelSrc})`);
            
            // Pozisyonu ayarla 
            entity.setAttribute('position', `${posX} ${posY} ${posZ}`);
            
            // Boyutu ayarla (0.5 kÃ¼Ã§Ã¼ltÃ¼lmÃ¼ÅŸ boyut demektir, modelinize gÃ¶re ayarlayÄ±n)
            entity.setAttribute('scale', '0.5 0.5 0.5'); 

            // Modeli AR Marker'Ä±nÄ±n iÃ§ine ekle ki marker hareket ettikÃ§e model de hareket etsin
            const marker = document.querySelector('a-marker-camera');
            
            // EÄŸer marker bulunduysa modeli ekle
            if (marker) {
                marker.appendChild(entity);
                console.log(`${modelSrc} sahneye eklendi.`);
            } else {
                console.error("AR Marker bulunamadÄ±. Model eklenemedi.");
                alert("AR KamerasÄ± henÃ¼z hazÄ±r deÄŸil veya marker bulunamadÄ±.");
            }
        }
    </script>

</body>
</html>
